import streamlit as st
import pandas as pd

# ---------------------------
# μƒν” λ°μ΄ν„° (μ‹¤μ  API μ—°λ™ κ°€λ¥)
# ---------------------------
travel_data = {
    "μΌλ³Έ": {
        "λ§μ΅±λ„": 4.7,
        "λ„μ‹": {
            "λ„μΏ„": ["μ”μ½”ν•λ§", "κ°€λ§μΏ λΌ", "ν•μ½”λ„¤"],
            "μ¤μ‚¬μΉ΄": ["κµν† ", "λ‚λΌ", "κ³ λ² "],
        },
        "μμ‹": {
            "μ¤μ‹ π£": ["μ¤μ‹μ”λ§μ΄ (β­4.5)", "κΈ΄μ κ·λ² μ— (β­4.6)", "μ¤μ‹ μ‚¬μ΄ν†  (β­4.8)"],
            "λΌλ© π": ["μ΄μΉλ€ λΌλ© (β­4.4)", "μ΄ν’λ‹Ή (β­4.5)", "λΌλ© μ§€λ΅ (β­4.3)"],
        },
        "λ¶νΈν•μ ": ["μμ–΄ μ†ν†µ μ–΄λ ¤μ›€", "κµν†µλΉ„ λΉ„μ", "ν„κΈ μ‚¬μ© λΉ„μ¨ λ†’μ"]
    },
    "ν”„λ‘μ¤": {
        "λ§μ΅±λ„": 4.5,
        "λ„μ‹": {
            "νλ¦¬": ["λ² λ¥΄μ‚¬μ ", "μ§€λ² λ¥΄λ‹", "λ½μƒλ―Έμ…Έ"],
            "λ‹μ¤": ["μΉΈ", "λ¨λ‚μ½”", "μ•™ν‹°λΈ"],
        },
        "μμ‹": {
            "ν¬λ£¨μ•„μƒ π¥": ["λΌλ’¤λ  (β­4.6)", "μ•™μ ¤λ¦¬λ‚ (β­4.5)", "ν΄ (β­4.4)"],
            "μ™€μΈ π·": ["μƒΉλΈλ  μ™€μΈλ°” (β­4.7)", "λΌ μΉ΄λΈ (β­4.6)", "λ¥΄ μ™€μΈ μ (β­4.5)"],
        },
        "λ¶νΈν•μ ": ["μ†λ§¤μΉκΈ° μ£Όμ", "λ¬Όκ°€ λΉ„μ", "ν”„λ‘μ¤μ–΄ μ†ν†µ ν•„μ”"]
    },
    "μ΄νƒλ¦¬μ•„": {
        "λ§μ΅±λ„": 4.6,
        "λ„μ‹": {
            "λ΅λ§": ["ν‹°λ³Όλ¦¬", "μ¤λ¥΄λΉ„μ—ν† ", "μΉλΉ„νƒ€ λ”” λ°λ‡¨λ μ΅°"],
            "ν”Όλ μ²΄": ["μ‹μ—λ‚", "ν”Όμ‚¬", "λ£¨μΉ΄"],
        },
        "μμ‹": {
            "ν”Όμ π•": ["λ‹¤ λ―ΈμΌλ  (β­4.6)", "ν”Όμ λ΅λ§λ‚ (β­4.5)", "μ†λ¥΄λΉλ΅ (β­4.7)"],
            "μ ¤λΌλ π¨": ["μ§€μ¬λ¦¬ν‹° (β­4.6)", "λ² λ„¤μΉμ•„ μ ¤λΌλ (β­4.5)", "λΌ μΉ΄λΌλ²¨λΌ (β­4.4)"],
        },
        "λ¶νΈν•μ ": ["κ΄€κ΄‘κ° νΌμ΅", "κµν†µη½·ζ¥­(νμ—…) μ¦μ", "μ†λ§¤μΉκΈ° μ£Όμ"]
    }
}

# ---------------------------
# Streamlit UI
# ---------------------------
st.set_page_config(page_title="ν•΄μ™Έμ—¬ν–‰ μ¶”μ² μ›Ή", page_icon="π", layout="centered")

st.title("π ν•΄μ™Έμ—¬ν–‰ λ§μ΅±λ„ & μ¶”μ² κ°€μ΄λ“")
st.write("βοΈ λ‚λΌλ¥Ό μ„ νƒν•λ©΄ λ§μ΅±λ„, μ¶”μ² λ„μ‹Β·μ†λ„μ‹, μμ‹μ , λ¶νΈν• μ μ„ μ•λ ¤λ“λ¦½λ‹λ‹¤!")

# λ‚λΌ μ„ νƒ
country = st.selectbox("κ°€κ³  μ‹¶μ€ λ‚λΌλ¥Ό μ„ νƒν•μ„Έμ”:", list(travel_data.keys()))

if country:
    data = travel_data[country]
    st.subheader(f"π‡¨π‡­ {country} μ—¬ν–‰ μ •λ³΄")

    # λ§μ΅±λ„
    st.metric("μ—¬ν–‰ λ§μ΅±λ„ (5μ  λ§μ )", f"{data['λ§μ΅±λ„']}")

    # λ„μ‹ & μ†λ„μ‹
    st.write("π“ **μ¶”μ² λ„μ‹ & μ†λ„μ‹**")
    for city, small_cities in data["λ„μ‹"].items():
        st.write(f"- **{city}** β {', '.join(small_cities)}")

    # μμ‹ & μμ‹μ 
    st.write("π½οΈ **μ¶”μ² μμ‹ & μμ‹μ **")
    for food, restaurants in data["μμ‹"].items():
        st.write(f"- {food}")
        for r in restaurants:
            st.write(f"   β€Ά {r}")

    # λ¶νΈν• μ 
    st.write("β οΈ **μ—¬ν–‰ μ‹ λ¶νΈν• μ **")
    for issue in data["λ¶νΈν•μ "]:
        st.write(f"- {issue}")

    # λΉ„κµ κ·Έλν”„
    st.subheader("π“ λ‚λΌλ³„ μ—¬ν–‰ λ§μ΅±λ„ λΉ„κµ")
    df = pd.DataFrame({
        "λ‚λΌ": list(travel_data.keys()),
        "λ§μ΅±λ„": [travel_data[c]["λ§μ΅±λ„"] for c in travel_data]
    })
    st.bar_chart(df.set_index("λ‚λΌ"))

st.write("---")
st.info("π’΅ μμ‹μ  ν‰μ μ€ κµ¬κΈ€λ§µ/λ„¤μ΄λ²„λ§µ λ°μ΄ν„°λ¥Ό APIλ΅ μ—°λ™ν•λ©΄ μλ™ μ—…λ°μ΄νΈν•  μ μμµλ‹λ‹¤!")
