import streamlit as st
import pandas as pd
import plotly.express as px

# ---------------------------
# μƒν” λ°μ΄ν„° (κ°€μƒ λ°μ΄ν„°)
# ---------------------------
travel_data = {
    "μΌλ³Έ": {
        "λ§μ΅±λ„": 4.7,
        "μ—¬ν–‰μ§€": ["λ„μΏ„", "μ¤μ‚¬μΉ΄", "κµν† ", "ν›„μΏ μ¤μΉ΄"],
        "μμ‹": ["μ¤μ‹ π£", "λΌλ© π", "νƒ€μ½”μ•Όν‚¤ π™", "κ·μΉ΄μΈ  π¥©"],
        "λ¶νΈν•μ ": ["μμ–΄ μ†ν†µμ΄ μ–΄λ ¤μ›€", "κµν†µλΉ„κ°€ λΉ„μ"]
    },
    "ν”„λ‘μ¤": {
        "λ§μ΅±λ„": 4.5,
        "μ—¬ν–‰μ§€": ["νλ¦¬", "λ‹μ¤", "λ¦¬μΉ", "λ³΄λ¥΄λ„"],
        "μμ‹": ["ν¬λ£¨μ•„μƒ π¥", "μ—μ¤μΉ΄λ¥΄κ³  π", "λ§μΉ΄λ΅± π¬", "μ™€μΈ π·"],
        "λ¶νΈν•μ ": ["μ†λ§¤μΉκΈ° μ£Όμ", "λ¬Όκ°€κ°€ λ†’μ"]
    },
    "μ΄νƒλ¦¬μ•„": {
        "λ§μ΅±λ„": 4.6,
        "μ—¬ν–‰μ§€": ["λ΅λ§", "ν”Όλ μ²΄", "λ°€λΌλ…Έ", "λ² λ„¤μΉμ•„"],
        "μμ‹": ["ν”Όμ π•", "νμ¤νƒ€ π", "ν‹°λΌλ―Έμ π°", "μ ¤λΌλ π¨"],
        "λ¶νΈν•μ ": ["κµν†µη½·ζ¥­(νμ—…) μμ£Ό λ°μƒ", "κ΄€κ΄‘κ°μ΄ λ§μ•„ νΌμ΅"]
    },
    "νƒκµ­": {
        "λ§μ΅±λ„": 4.4,
        "μ—¬ν–‰μ§€": ["λ°©μ½•", "ν‘ΈμΌ“", "μΉμ•™λ§μ΄", "ννƒ€μ•Ό"],
        "μμ‹": ["ννƒ€μ΄ π", "λ μ–κΏ π²", "λ§κ³  μ¤ν‹°ν‚¤ λΌμ΄μ¤ π¥­", "μΉ΄μ¤ν π"],
        "λ¶νΈν•μ ": ["λ”μ΄ λ‚ μ”¨", "κµν†µ νΌμ΅"]
    },
    "λ―Έκµ­": {
        "λ§μ΅±λ„": 4.3,
        "μ—¬ν–‰μ§€": ["λ‰΄μ•", "λΌμ¤λ² κ°€μ¤", "μƒν”„λ€μ‹μ¤μ½”", "λ§μ΄μ• λ―Έ"],
        "μμ‹": ["ν–„λ²„κ±° π”", "μ¤ν…μ΄ν¬ π¥©", "ν•«λ„κ·Έ π­", "λ„λ„› π©"],
        "λ¶νΈν•μ ": ["ν λ¬Έν™” λ¶€λ‹΄", "μ΄κΈ° μ•μ „ λ¬Έμ "]
    },
    "μ¤νμΈ": {
        "λ§μ΅±λ„": 4.5,
        "μ—¬ν–‰μ§€": ["λ°”λ¥΄μ…€λ΅λ‚", "λ§λ“λ¦¬λ“", "μ„ΈλΉ„μ•Ό", "λ°λ μ‹μ•„"],
        "μμ‹": ["νμ—μ•Ό π¥", "ν•λ½ π¥©", "μ¶”λ΅μ¤ π©", "μƒκ·Έλ¦¬μ•„ π·"],
        "λ¶νΈν•μ ": ["μ¤νμΈμ–΄ ν•„μ", "μ μ‹¬μ‹κ°„ μ΄ν›„ κ°€κ²κ°€ λ‹«ν(μ‹μ—μ¤νƒ€)"]
    },
}

# ---------------------------
# Streamlit UI
# ---------------------------
st.set_page_config(page_title="ν•΄μ™Έμ—¬ν–‰ μ¶”μ² μ›Ή", page_icon="π", layout="centered")

st.title("π ν•΄μ™Έμ—¬ν–‰ λ§μ΅±λ„ & μ¶”μ² κ°€μ΄λ“")
st.write("βοΈ λ‚λΌλ¥Ό μ„ νƒν•λ©΄ μ—¬ν–‰ λ§μ΅±λ„, μ¶”μ² μ—¬ν–‰μ§€, μμ‹, λ¶νΈν• μ μ„ μ•λ ¤λ“λ ¤μ”!")

# λ‚λΌ μ„ νƒ
country = st.selectbox("κ°€κ³  μ‹¶μ€ λ‚λΌλ¥Ό μ„ νƒν•μ„Έμ”:", list(travel_data.keys()))

if country:
    st.subheader(f"π‡¨π‡­ {country} μ—¬ν–‰ μ •λ³΄")

    data = travel_data[country]

    # λ§μ΅±λ„ μ¶λ ¥
    st.metric(label="μ—¬ν–‰ λ§μ΅±λ„ (5μ  λ§μ )", value=f"{data['λ§μ΅±λ„']}")

    # μ¶”μ² μ—¬ν–‰μ§€
    st.write("π“ **μ¶”μ² μ—¬ν–‰μ§€**")
    st.write(", ".join(data["μ—¬ν–‰μ§€"]))

    # μ¶”μ² μμ‹
    st.write("π½οΈ **μ¶”μ² μμ‹**")
    st.write(", ".join(data["μμ‹"]))

    # λ¶νΈν• μ 
    st.write("β οΈ **μ—¬ν–‰ μ‹ λ¶νΈν• μ **")
    for issue in data["λ¶νΈν•μ "]:
        st.write(f"- {issue}")

    # λ§μ΅±λ„ λΉ„κµ κ·Έλν”„
    st.subheader("π“ λ‚λΌλ³„ μ—¬ν–‰ λ§μ΅±λ„ λΉ„κµ")
    df = pd.DataFrame({
        "λ‚λΌ": list(travel_data.keys()),
        "λ§μ΅±λ„": [travel_data[c]["λ§μ΅±λ„"] for c in travel_data]
    })

    fig = px.bar(df, x="λ‚λΌ", y="λ§μ΅±λ„", title="λ‚λΌλ³„ μ—¬ν–‰ λ§μ΅±λ„", text="λ§μ΅±λ„")
    fig.update_traces(textposition="outside")
    st.plotly_chart(fig, use_container_width=True)

st.write("---")
st.info("π’΅ μ‹¤μ  λ°μ΄ν„°λ¥Ό μ—°κ²°ν•λ©΄ λ” μ •ν™•ν•κ³  ν’λ¶€ν• μ—¬ν–‰ κ°€μ΄λ“ μ›Ήμ„ λ§λ“¤ μ μμµλ‹λ‹¤!")
