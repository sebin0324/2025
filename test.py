import streamlit as st
import pandas as pd
import plotly.express as px

# ---------------------------
# 샘플 데이터 (가상 데이터)
# ---------------------------
travel_data = {
    "일본": {
        "만족도": 4.7,
        "여행지": ["도쿄", "오사카", "교토", "후쿠오카"],
        "음식": ["스시 🍣", "라멘 🍜", "타코야키 🐙", "규카츠 🥩"],
        "불편한점": ["영어 소통이 어려움", "교통비가 비쌈"]
    },
    "프랑스": {
        "만족도": 4.5,
        "여행지": ["파리", "니스", "리옹", "보르도"],
        "음식": ["크루아상 🥐", "에스카르고 🐌", "마카롱 🍬", "와인 🍷"],
        "불편한점": ["소매치기 주의", "물가가 높음"]
    },
    "이탈리아": {
        "만족도": 4.6,
        "여행지": ["로마", "피렌체", "밀라노", "베네치아"],
        "음식": ["피자 🍕", "파스타 🍝", "티라미수 🍰", "젤라또 🍨"],
        "불편한점": ["교통罷業(파업) 자주 발생", "관광객이 많아 혼잡"]
    },
    "태국": {
        "만족도": 4.4,
        "여행지": ["방콕", "푸켓", "치앙마이", "파타야"],
        "음식": ["팟타이 🍜", "똠얌꿍 🍲", "망고 스티키 라이스 🥭", "카오팟 🍚"],
        "불편한점": ["더운 날씨", "교통 혼잡"]
    },
    "미국": {
        "만족도": 4.3,
        "여행지": ["뉴욕", "라스베가스", "샌프란시스코", "마이애미"],
        "음식": ["햄버거 🍔", "스테이크 🥩", "핫도그 🌭", "도넛 🍩"],
        "불편한점": ["팁 문화 부담", "총기 안전 문제"]
    },
    "스페인": {
        "만족도": 4.5,
        "여행지": ["바르셀로나", "마드리드", "세비야", "발렌시아"],
        "음식": ["파에야 🥘", "하몽 🥩", "추로스 🍩", "상그리아 🍷"],
        "불편한점": ["스페인어 필수", "점심시간 이후 가게가 닫힘(시에스타)"]
    },
}

# ---------------------------
# Streamlit UI
# ---------------------------
st.set_page_config(page_title="해외여행 추천 웹", page_icon="🌍", layout="centered")

st.title("🌍 해외여행 만족도 & 추천 가이드")
st.write("✈️ 나라를 선택하면 여행 만족도, 추천 여행지, 음식, 불편한 점을 알려드려요!")

# 나라 선택
country = st.selectbox("가고 싶은 나라를 선택하세요:", list(travel_data.keys()))

if country:
    st.subheader(f"🇨🇭 {country} 여행 정보")

    data = travel_data[country]

    # 만족도 출력
    st.metric(label="여행 만족도 (5점 만점)", value=f"{data['만족도']}")

    # 추천 여행지
    st.write("📍 **추천 여행지**")
    st.write(", ".join(data["여행지"]))

    # 추천 음식
    st.write("🍽️ **추천 음식**")
    st.write(", ".join(data["음식"]))

    # 불편한 점
    st.write("⚠️ **여행 시 불편한 점**")
    for issue in data["불편한점"]:
        st.write(f"- {issue}")

    # 만족도 비교 그래프
    st.subheader("📊 나라별 여행 만족도 비교")
    df = pd.DataFrame({
        "나라": list(travel_data.keys()),
        "만족도": [travel_data[c]["만족도"] for c in travel_data]
    })

    fig = px.bar(df, x="나라", y="만족도", title="나라별 여행 만족도", text="만족도")
    fig.update_traces(textposition="outside")
    st.plotly_chart(fig, use_container_width=True)

st.write("---")
st.info("💡 실제 데이터를 연결하면 더 정확하고 풍부한 여행 가이드 웹을 만들 수 있습니다!")
