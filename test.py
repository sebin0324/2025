import streamlit as st
import pandas as pd

# ---------------------------
# ìƒ˜í”Œ ë°ì´í„° (í•œêµ­ì¸ ì¸ê¸° ì—¬í–‰ì§€ ê¸°ì¤€)
# ---------------------------
travel_data = {
    "ì¼ë³¸": {
        "flag": "ğŸ‡¯ğŸ‡µ",
        "ë§Œì¡±ë„": 4.7,
        "ë„ì‹œ": {
            "ë„ì¿„": ["ìš”ì½”í•˜ë§ˆ", "ê°€ë§ˆì¿ ë¼", "í•˜ì½”ë„¤"],
            "ì˜¤ì‚¬ì¹´": ["êµí† ", "ë‚˜ë¼", "ê³ ë² "],
        },
        "ìŒì‹": {
            "ìŠ¤ì‹œ ğŸ£": ["ìŠ¤ì‹œì”ë§ˆì´ (â­4.5)", "ê¸´ì ê·œë² ì— (â­4.6)", "ìŠ¤ì‹œ ì‚¬ì´í†  (â­4.8)"],
            "ë¼ë©˜ ğŸœ": ["ì´ì¹˜ë€ ë¼ë©˜ (â­4.4)", "ì‡í‘¸ë„ (â­4.5)", "ë¼ë©˜ ì§€ë¡œ (â­4.3)"],
        },
        "ë¶ˆí¸í•œì ": ["ì˜ì–´ ì†Œí†µ ì–´ë ¤ì›€", "êµí†µë¹„ ë¹„ìŒˆ", "í˜„ê¸ˆ ì‚¬ìš© ë¹„ìœ¨ ë†’ìŒ"],
        "ìœ„ìƒ": "ëŒ€ì²´ë¡œ ë§¤ìš° ê¹¨ë—í•˜ë©°, ìŒì‹ ìœ„ìƒ ê´€ë¦¬ë„ ì² ì €í•©ë‹ˆë‹¤.",
        "ë¬¸í™”": "ì• ë‹ˆë©”ì´ì…˜, ì˜¨ì²œ ë¬¸í™”, ì „í†µ ë‹¤ë„ ë¬¸í™”ê°€ ìœ ëª…í•©ë‹ˆë‹¤.",
        "ê¼­ ì§€ì¼œì•¼ í•˜ëŠ” ë¬¸í™”": ["ëŒ€ì¤‘êµí†µì—ì„œ í†µí™” ìì œ", "ì¤„ ì„œê¸° ë¬¸í™” ì—„ê²©", "ì“°ë ˆê¸° ë¬´ë‹¨íˆ¬ê¸° ê¸ˆì§€"]
    },
    "íƒœêµ­": {
        "flag": "ğŸ‡¹ğŸ‡­",
        "ë§Œì¡±ë„": 4.4,
        "ë„ì‹œ": {
            "ë°©ì½•": ["ì•„ìœ íƒ€ì•¼", "íŒŒíƒ€ì•¼", "ê¹ì§œë‚˜ë¶€ë¦¬"],
            "í‘¸ì¼“": ["í”¼í”¼ì„¬", "ì¹´ì˜¤ë½", "íŒ¡ì•„"],
        },
        "ìŒì‹": {
            "íŒŸíƒ€ì´ ğŸœ": ["íŒì‚¬ë§ˆì´ (â­4.6)", "ì¨ë•€ ëˆ„ì•„ (â­4.5)", "ë°˜ì¹¸í‹€ë¼ (â­4.4)"],
            "ë˜ ì–Œê¿ ğŸ²": ["íŒŒëšœ íƒ€ì´ (â­4.5)", "í¬ë£¨ì•„ ì•„í”„ì†œ (â­4.6)", "ì†Œì´ ë¼ë©˜ (â­4.3)"],
        },
        "ë¶ˆí¸í•œì ": ["ë”ìš´ ë‚ ì”¨", "êµí†µ í˜¼ì¡", "ìœ„ìƒ ë¬¸ì œ"],
        "ìœ„ìƒ": "ì¼ë¶€ ê¸¸ê±°ë¦¬ ìŒì‹ì€ ìœ„ìƒì— ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.",
        "ë¬¸í™”": "ë¶ˆêµ ë¬¸í™”ê°€ ìƒí™œ ì „ë°˜ì— ê¹Šì´ ìŠ¤ë©° ìˆìœ¼ë©° ì‚¬ì›ì´ ë§ìŠµë‹ˆë‹¤.",
        "ê¼­ ì§€ì¼œì•¼ í•˜ëŠ” ë¬¸í™”": ["ì‚¬ì› ë°©ë¬¸ ì‹œ ë³µì¥ ë‹¨ì •íˆ", "ì™•ì‹¤ ë¹„í•˜ ê¸ˆì§€", "ë¨¸ë¦¬ ì“°ë‹¤ë“¬ê¸° ê¸ˆì§€"]
    },
    "ë² íŠ¸ë‚¨": {
        "flag": "ğŸ‡»ğŸ‡³",
        "ë§Œì¡±ë„": 4.5,
        "ë„ì‹œ": {
            "í•˜ë…¸ì´": ["í•˜ë¡±ë² ì´", "ë‹Œë¹ˆ", "ì‚¬íŒŒ"],
            "í˜¸ì¹˜ë¯¼": ["ë©”ì½©ë¸íƒ€", "ë¶•ë”°ìš°", "ì¿ ì¹˜í„°ë„"],
        },
        "ìŒì‹": {
            "ìŒ€êµ­ìˆ˜ ğŸœ": ["í¬í‹´ (â­4.6)", "í¬ 2000 (â­4.4)", "ê½Œì•ˆì‘ì˜¨ (â­4.5)"],
            "ë°˜ë¯¸ ğŸ¥–": ["ë°˜ë¯¸íë¦¬ (â­4.5)", "ë°˜ë¯¸í›„ì—‰ (â­4.6)", "ë°˜ë¯¸í™í™” (â­4.4)"],
        },
        "ë¶ˆí¸í•œì ": ["ì˜¤í† ë°”ì´ êµí†µ ìœ„í—˜", "ì–¸ì–´ ì¥ë²½", "ë‚ ì”¨ ë”ì›€"],
        "ìœ„ìƒ": "ëŒ€ë„ì‹œëŠ” ê¹¨ë—í•˜ì§€ë§Œ ê¸¸ê±°ë¦¬ ìŒì‹ì€ ì£¼ì˜ í•„ìš”.",
        "ë¬¸í™”": "í”„ë‘ìŠ¤ ì‹ë¯¼ì§€ ì˜í–¥ìœ¼ë¡œ ì»¤í”¼ ë¬¸í™”ê°€ ë°œë‹¬.",
        "ê¼­ ì§€ì¼œì•¼ í•˜ëŠ” ë¬¸í™”": ["ê¸¸ ê±´ë„ ë•Œ ì˜¤í† ë°”ì´ ì£¼ì˜", "ì‹ì‚¬ ì‹œ ì “ê°€ë½ ì˜ˆì ˆ ì§€í‚¤ê¸°", "ë…¸ì¸ ì¡´ì¤‘"]
    },
    "ë¯¸êµ­": {
        "flag": "ğŸ‡ºğŸ‡¸",
        "ë§Œì¡±ë„": 4.3,
        "ë„ì‹œ": {
            "ë‰´ìš•": ["ë‰´ì €ì§€", "í•„ë¼ë¸í”¼ì•„", "ë³´ìŠ¤í„´"],
            "LA": ["ìƒŒë””ì—ì´ê³ ", "ë¼ìŠ¤ë² ê°€ìŠ¤", "ìƒŒí”„ë€ì‹œìŠ¤ì½”"],
        },
        "ìŒì‹": {
            "í–„ë²„ê±° ğŸ”": ["ì…°ì´í¬ì‰‘ (â­4.5)", "íŒŒì´ë¸Œê°€ì´ì¦ˆ (â­4.4)", "ì¸ì•¤ì•„ì›ƒ (â­4.6)"],
            "ìŠ¤í…Œì´í¬ ğŸ¥©": ["í”¼í„° ë£¨ê±° (â­4.6)", "ì¼€ì¸ìŠ¤ (â­4.5)", "ìš¸í”„ê°• (â­4.4)"],
        },
        "ë¶ˆí¸í•œì ": ["íŒ ë¬¸í™” ë¶€ë‹´", "ì´ê¸° ì•ˆì „ ë¬¸ì œ", "ë¬¼ê°€ ë¹„ìŒˆ"],
        "ìœ„ìƒ": "ëŒ€ì²´ë¡œ ìœ„ìƒì ì´ë©° ìˆ˜ë—ë¬¼ë„ ë§ˆì‹¤ ìˆ˜ ìˆìŒ.",
        "ë¬¸í™”": "ë‹¤ì–‘í•œ ì¸ì¢…ê³¼ ë¬¸í™”ê°€ ê³µì¡´í•˜ë©° ììœ ë¡œìš´ ë¶„ìœ„ê¸°.",
        "ê¼­ ì§€ì¼œì•¼ í•˜ëŠ” ë¬¸í™”": ["íŒ ë¬¸í™” ì§€í‚¤ê¸°", "ê°œì¸ ê³µê°„ ì¡´ì¤‘", "ì´ê¸° ê´€ë ¨ ì¥ì†Œ ì£¼ì˜"]
    },
    "í”„ë‘ìŠ¤": {
        "flag": "ğŸ‡«ğŸ‡·",
        "ë§Œì¡±ë„": 4.5,
        "ë„ì‹œ": {
            "íŒŒë¦¬": ["ë² ë¥´ì‚¬ìœ ", "ì§€ë² ë¥´ë‹ˆ", "ëª½ìƒë¯¸ì…¸"],
            "ë‹ˆìŠ¤": ["ì¹¸", "ëª¨ë‚˜ì½”", "ì•™í‹°ë¸Œ"],
        },
        "ìŒì‹": {
            "í¬ë£¨ì•„ìƒ ğŸ¥": ["ë¼ë’¤ë ˆ (â­4.6)", "ì•™ì ¤ë¦¬ë‚˜ (â­4.5)", "í´ (â­4.4)"],
            "ì™€ì¸ ğŸ·": ["ìƒ¹ë¸Œë ˆ ì™€ì¸ë°” (â­4.7)", "ë¼ ì¹´ë¸Œ (â­4.6)", "ë¥´ ì™€ì¸ ìˆ (â­4.5)"],
        },
        "ë¶ˆí¸í•œì ": ["ì†Œë§¤ì¹˜ê¸° ì£¼ì˜", "ë¬¼ê°€ ë¹„ìŒˆ", "í”„ë‘ìŠ¤ì–´ ì†Œí†µ í•„ìš”"],
        "ìœ„ìƒ": "ëŒ€ì²´ë¡œ ìœ„ìƒì ì´ë‚˜ ì¼ë¶€ ê³µê³µ í™”ì¥ì‹¤ì€ ë¶ˆí¸í•  ìˆ˜ ìˆìŒ.",
        "ë¬¸í™”": "ì˜ˆìˆ ê³¼ ë‚­ë§Œì˜ ì¤‘ì‹¬ì§€, ì¹´í˜ ë¬¸í™” ë°œë‹¬.",
        "ê¼­ ì§€ì¼œì•¼ í•˜ëŠ” ë¬¸í™”": ["í”„ë‘ìŠ¤ì–´ ê¸°ë³¸ ì¸ì‚¬ ì‚¬ìš©", "ì¹´í˜ì—ì„œ í° ì†Œë¦¬ ê¸ˆì§€", "ì‹œê°„ ì—„ìˆ˜"]
    },
}

# ---------------------------
# Streamlit UI
# ---------------------------
st.set_page_config(page_title="í•´ì™¸ì—¬í–‰ ì¶”ì²œ ì›¹", page_icon="ğŸŒ", layout="centered")

st.title("ğŸŒ í•œêµ­ì¸ ì¸ê¸° í•´ì™¸ì—¬í–‰ ì¶”ì²œ ê°€ì´ë“œ")
st.write("âœˆï¸ ë‚˜ë¼ë¥¼ ì„ íƒí•˜ë©´ **ë§Œì¡±ë„, ë„ì‹œÂ·ì†Œë„ì‹œ, ìŒì‹ì , ë¶ˆí¸í•œ ì , ë¬¸í™”, ìœ„ìƒ**ê¹Œì§€ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤!")

# ë‚˜ë¼ ì„ íƒ
country = st.selectbox("ê°€ê³  ì‹¶ì€ ë‚˜ë¼ë¥¼ ì„ íƒí•˜ì„¸ìš”:", list(travel_data.keys()))

if country:
    data = travel_data[country]
    st.subheader(f"{data['flag']} {country} ì—¬í–‰ ì •ë³´")

    # ë§Œì¡±ë„
    stars = "â­" * int(data["ë§Œì¡±ë„"]) + ("âœ¨" if data["ë§Œì¡±ë„"] % 1 >= 0.5 else "")
    st.metric("ì—¬í–‰ ë§Œì¡±ë„ (5ì  ë§Œì )", f"{data['ë§Œì¡±ë„']} ({stars})")

    # ë„ì‹œ & ì†Œë„ì‹œ
    st.markdown("### ğŸ“ ì¶”ì²œ ë„ì‹œ & ì†Œë„ì‹œ")
    for city, small_cities in data["ë„ì‹œ"].items():
        st.markdown(f"- **{city}** â†’ {', '.join(small_cities)}")

    # ìŒì‹ & ìŒì‹ì 
    st.markdown("### ğŸ½ï¸ ì¶”ì²œ ìŒì‹ & ìŒì‹ì ")
    for food, restaurants in data["ìŒì‹"].items():
        st.markdown(f"- {food}")
        st.markdown("\n".join([f"  â€¢ {r}" for r in restaurants]))

    # ë¶ˆí¸í•œ ì 
    st.markdown("### âš ï¸ ì—¬í–‰ ì‹œ ë¶ˆí¸í•œ ì ")
    for issue in data["ë¶ˆí¸í•œì "]:
        st.warning(issue)

    # ìœ„ìƒ
    st.markdown("### ğŸ§¼ ìœ„ìƒ")
    st.info(data["ìœ„ìƒ"])

    # ë¬¸í™”
    st.markdown("### ğŸ­ ë¬¸í™”")
    st.write(data["ë¬¸í™”"])

    # ê¼­ ì§€ì¼œì•¼ í•˜ëŠ” ë¬¸í™”
    st.markdown("### ğŸ“Œ ê¼­ ì§€ì¼œì•¼ í•˜ëŠ” ë¬¸í™”")
    for rule in data["ê¼­ ì§€ì¼œì•¼ í•˜ëŠ” ë¬¸í™”"]:
        st.success(rule)

    # ë¹„êµ ê·¸ë˜í”„
    st.subheader("ğŸ“Š ë‚˜ë¼ë³„ ì—¬í–‰ ë§Œì¡±ë„ ë¹„êµ")
    df = pd.DataFrame({
        "ë‚˜ë¼": list(travel_data.keys()),
        "ë§Œì¡±ë„": [travel_data[c]["ë§Œì¡±ë„"] for c in travel_data]
    })
    st.bar_chart(df.set_index("ë‚˜ë¼"))

st.write("---")
st.info("ğŸ’¡ ìŒì‹ì  í‰ì ì€ ì‹¤ì œë¡œëŠ” êµ¬ê¸€ë§µ/ë„¤ì´ë²„ë§µ APIì™€ ì—°ë™í•´ ìµœì‹  ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤!")
